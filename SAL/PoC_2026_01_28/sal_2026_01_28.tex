\documentclass{beamer}

\usepackage{tikz}
\usepackage{graphicx}
\usepackage[table, x11names]{xcolor}
\usepackage{xstring}
\usepackage{etoolbox}
\usepackage{tabularx}

\newcommand{\Date}{}

\newcommand{\setDate}[1]{\renewcommand{\Date}{#1}}

\useinnertheme{default}
\useoutertheme{default}
\usecolortheme{default}

\definecolor{aziendaPrimary}{RGB}{84, 150, 104}
\setbeamercolor{structure}{fg=aziendaPrimary}
\setbeamercolor{frametitle}{bg=aziendaPrimary!10,fg=aziendaPrimary}

% rimuovere i simboli di navigazione
\setbeamertemplate{navigation symbols}{}

% pagina iniziale
\setbeamertemplate{title page}{
  \vspace{2em}
  \begin{center}
    \begin{minipage}{0.3\textwidth}
      \centering
      \includegraphics[height=2.1cm]{./logounipd.png}
    \end{minipage}
    \begin{minipage}{0.3\textwidth}
      \centering
      \includegraphics[height=2cm]{../logo-crop.pdf}
    \end{minipage}
    \begin{minipage}{0.3\textwidth}
      \centering
      \includegraphics[height=2cm]{./logoview4life.png}
    \end{minipage}
  \end{center}
  \begin{center}
      {\usebeamerfont{title}\color{black}\textbf{\inserttitle}\par}
    \vspace{0.5em}
    {\usebeamerfont{date}\insertauthor\par}
    {\usebeamerfont{date}\Date\par}
  \end{center}
}

% footer
\setbeamertemplate{footline}{
  \vspace{2ex}
  \hbox{
    \begin{minipage}[t]{0.40\paperwidth}
      \hspace*{0.5em}
      \raggedright\usebeamerfont{footline}\inserttitle
    \end{minipage}%
    \begin{minipage}[t]{0.20\paperwidth}
      \centering\usebeamerfont{footline}Pagina \insertframenumber{} di \inserttotalframenumber
    \end{minipage}%
    \begin{minipage}[t]{0.40\paperwidth}
      \hfill
      \insertshortauthor
      \hspace*{0.8em}
      \raisebox{-0.25\height}{\includegraphics[width=0.7cm]{../logo-crop.pdf}}
      \hspace*{1.3em}
    \end{minipage}
  }
  \vspace{0.8ex}
}

\usepackage[absolute,overlay]{textpos}

\title{Progetto View4Life del corso \\ di Ingegneria del Software}
\author{Presentazione del \textit{Proof of Concept}}
\setDate{28/01/2026}

\begin{document}

{
\setbeamertemplate{footline}{}
\begin{frame}
  \titlepage
\end{frame}
}

\begin{frame}{L'obiettivo del progetto}
  % \begin{textblock*}{2cm}(10.5cm,0.5cm)
  %   \includegraphics[width=2cm]{immagine}
  % \end{textblock*}
  Sviluppare un applicativo \textit{web} per permettere la gestione delle residenze protette da parte del personale sanitario
  e dell'amministratore, tramite l'uso dei dispositivi \textit{IoT} della gamma \textit{View Wireless}. \\
  In particolare, l'applicativo deve:
  \begin{itemize}
    \item Visualizzare le informazioni dei vari \textbf{dispositivi};
    \item gestire gli stati degli \textbf{allarmi}, che verranno presi in carico dal personale sanitario;
    \item visualizzare le \textbf{\textit{analytics}} relative alla piattaforma e agli impianti, con relativi suggerimenti
          per il \textbf{risparmio energetico};
    \item visualizzare una \textbf{\textit{dashboard}} contenente le informazioni principali (stato dispositivi, allarmi attivi, ...).
  \end{itemize}
\end{frame}

\begin{frame}{Metodo di lavoro}
  \begin{itemize}
    \item Abbiamo scelto una metodologia \textbf{agile} con framework \textbf{scrum}, composta da \textbf{sprint} di 2 settimane ciascuno;
    \item Issue Tracking System: \textbf{GitHub Projects}.
          \\Le issue non completate in uno sprint vengono spostate e gestite nello sprint successivo;
    \item Ad ogni sprint viene effettuata una rotazione dei seguenti ruoli tra i 7 membri del gruppo:
          \begin{center}
            \begin{tabular}{|l|}
              \hline
              \textbf{Ruoli} \\
              \hline
              Responsabile   \\
              Amministratore \\
              Analista       \\
              Progettista    \\
              Programmatore  \\
              Verificatore   \\
              \hline
            \end{tabular}
          \end{center}
  \end{itemize}
\end{frame}

\begin{frame}{Schema riassuntivo dei componenti}
  \centering
  \includegraphics[
    width=\textwidth,
    height=0.9\textheight,
    keepaspectratio
  ]{schema_riassuntivo.png}
\end{frame}

\begin{frame}{Avanzamento fino ad oggi}
  \centering
  \includegraphics[
    width=\textwidth,
    height=0.9\textheight,
    keepaspectratio
  ]{stato_avanzamento.drawio.png}
\end{frame}

\begin{frame}{Disegno architetturale - Sistema}
  \centering
  \includegraphics[
    width=\textwidth,
    height=0.9\textheight,
    keepaspectratio
  ]{system.drawio.png}
\end{frame}

\begin{frame}{Disegno architetturale - Container}
  \centering
  \includegraphics[
    width=\textwidth,
    height=0.9\textheight,
    keepaspectratio
  ]{container.drawio.png}
\end{frame}

% \begin{frame}{Disegno architetturale - Components}
%   \centering
%   \includegraphics[
%     width=\textwidth,
%     height=0.9\textheight,
%     keepaspectratio
%   ]{components.drawio.png}
% \end{frame}

\begin{frame}{Tecnologie frontend}
  \begin{itemize}
    \item \textbf{Angular} è stato scelto per la sua struttura solida e scalabile, adatta ad applicazioni complesse e manutenibili nel tempo in contesti enterprise.

    \item Offre un tooling integrato (Angular CLI, build, testing) che garantisce uno sviluppo coerente, riducendo la necessità di configurazioni aggiuntive rispetto a soluzioni più flessibili come React.

    \item L’uso obbligatorio di \textbf{TypeScript} migliora l’affidabilità del codice grazie alla tipizzazione statica.

    \item Presenta una curva di apprendimento più ripida dovuta alla complessità iniziale e ai concetti architetturali da comprendere. (Angular Docs)

    \item La scelta privilegia solidità e standardizzazione dell’architettura rispetto alla rapidità di sviluppo iniziale.
  \end{itemize}

\end{frame}

\begin{frame}{Tecnologie backend}
  \begin{itemize}

    \item Il modello event-driven e non bloccante di Node.js garantisce ottime prestazioni nelle operazioni di I/O e nella gestione di richieste concorrenti, rendendolo particolarmente adatto per mantenere attive le subscription richieste dallo standard KNX IoT senza ricorrere a polling.

    \item Express offre una struttura minima e poco prescrittiva, permettendo di modellare l’architettura secondo le esigenze del progetto senza la complessità di framework più pesanti.

    \item Il tooling modulare basato su npm consente di integrare facilmente librerie per OAuth2, sicurezza validazione e logging

    \item \textbf{Node.js + Express} è stato scelto per la leggerezza e la flessibilità che offre, oltre a essere molto in linea per ciò che il progetto richiede, in particolare per la gestione delle API REST.

  \end{itemize}
\end{frame}

\begin{frame}{Scelta del Database}
  \begin{itemize}
    \item I dati dell’applicativo web, come utenti, credenziali e configurazioni, saranno gestiti con un database relazionale (PostgreSQL) per garantire integrità e coerenza.

    \item Le metriche per le analytics saranno memorizzati in un database come TimescaleDB, InfluxDB o MongoDB, ottimizzato per serie temporali e aggiornamenti frequenti.

  \end{itemize}
\end{frame}

\begin{frame}{Docker}
  \begin{itemize}
    \item \textbf{Docker} sarà utilizzato per rendere l’ambiente completamente replicabile e portabile tra diversi cloud provider, come richiesto dal progetto.

    \item Ogni servizio backend, database e componente dell’applicativo sarà containerizzato, consentendo di avviare l’intero stack con un solo comando.

    \item Questo approccio rispetta il principio di Infrastructure as Code e facilita la gestione di dipendenze, aggiornamenti e scalabilità dei vari componenti.

  \end{itemize}
\end{frame}

\begin{frame}{Backend: architettura layered VS esagonale}

  \begin{itemize}
    \item \textbf{Inversione delle Dipendenze}
          \begin{itemize}
            \item \textit{Layered:} $Application \to Business \to Persisten$. \textit{Persisten Logic e DB} guidano lo sviluppo, influenzando fortemente il Dominio.
            \item \textbf{Esagonale:} $Appllication \to Business \leftarrow Persistent$. Il Dominio, isolato, guida lo sviluppo.
            \item \textbf{Conclusione:} Non ci è ancora chiaro quale DB useremo e come lo implementeremo, mentre sappiamo come modellare le principali entità del Dominio.\\
                  Di conseguenza, l'isolamento del Dominio offerto dall'architettura esagonale ci avvantaggia nello sviluppo del \textit{PoC}. \\
          \end{itemize}
  \end{itemize}
\end{frame}

\begin{frame}{Backend: architettura layered VS esagonale (continua)}
  \begin{itemize}
    \item \textbf{Testabilità}
          \begin{itemize}
            \item \textit{Layered:} Complesso testare esclusivamente il Dominio, test legati a mocking pesanti o database attivi (non ancora presenti).
            \item \textbf{Esagonale:} Consente \textbf{Unit Test} rapidi e isolati sul Dominio.
            \item \textbf{Conclusione:} L'architettura esagonale ci garantisce la possibilità di testare immediatamente la correttezza della \textit{Business Logic}.
                  \\Ciò corrisponde a coprire la maggior parte del codice del \textit{PoC}.
          \end{itemize}
  \end{itemize}
\end{frame}


\begin{frame}{Backend: confronto architettura layered VS esagonale (continua)}
  \begin{itemize}
    \item \textbf{Ruolo del Database}
          \begin{itemize}
            \item \textit{Layered:} Assume un ruolo chiave, fondamenta del sistema. Il sistema tende a diventare rigido e fragile rispetto a modifiche strutturali.
            \item \textbf{Esagonale:} Viene trattato come un dettaglio implementativo, garantendo ampia flessibilità e possibilità di cambiamento.
            \item \textbf{Conclusione:} Il disaccoppiamento dal database ci permette di evolvere il modello o cambiare tecnologia di persistenza senza rifattorizzazioni del dominio, aspetto centrale del PoC. \\
                  Ci permette inoltre di valutare a posteriori, con possibilità di cambiamento, l'utilizzo di un DB relazione e/o non relazionale.
          \end{itemize}
  \end{itemize}
\end{frame}

\begin{frame}{Backend: confronto architettura layered VS esagonale (continua)}
  \begin{itemize}
    \item \textbf{Struttura e Manutenibilità}
          \begin{itemize}
            \item \textit{Layered:} I layer tendono a mascherare la complessità, rendendo difficile l'orientamento con l'avanzare del progetto.
            \item \textbf{Esagonale:} Indirizza maggiormente lo sviluppo. Offre chiarezza e trasparenza nelle integrazioni con sistemi esterni \textit{ports-adapters}.
            \item \textbf{Conclusione:} L'architettura esagonale ci impronta allo sviluppo di una codebase più ordinata e manutenibile, in particolare isolando il dominio e facilitando l'integrazione di servizi esterni. \\
                  Ci permette inoltre di approcciarci al mondo dello sviluppo software con attenzione fin da subito alle \textit{best-practices} riguardo alla separazione delle responsabilità ("filo rosso" del corso di ingegneria seguito in questo semestre).
          \end{itemize}
  \end{itemize}
\end{frame}


\begin{frame}{Backend: Architettura esagonale}
  \begin{figure}
    \centering
    \includegraphics[
      width=\textwidth,
      height=0.9\textheight,
      keepaspectratio
    ]{./arch.drawio.png}
  \end{figure}
\end{frame}

\begin{frame}{Analytics}
  Nella sezione Analytics saranno visualizzate, attraverso dei \textbf{grafici}, le statistiche specificate nel capitolato, tra cui:
  \begin{itemize}
    \item l'energia consumata dall'illuminazione;
    \item anomalie d'impianto;
    \item rilevamento presenza/assenza/caduta;
    \item rilevamento presenza prolungata;
    \item variazione e cambio di temperatura;
    \item allarmi inviati e risolti giornalmente,
    \item frequenza allarmi e cadute di un periodo a scelta
  \end{itemize}
\end{frame}

\begin{frame}{Analytics}
  Le statistiche risultano utili per:
  \begin{itemize}
    \item fornire una visione d'insieme sugli impianti;
    \item ottenere informazioni sull'efficienza degli impianti;
    \item sviluppare strategie per ottimizzare i consumi;
    \item valutare l'efficacia della gestione degli allarmi.
  \end{itemize}

  Per la visualizzazione dei grafici è stato previsto l'utilizzo di una tra le seguenti alternative:
  \begin{itemize}
    \item \textbf{ng2-charts}, wrapper della libreria \textit{Chart.js}
    \item \textbf{ngx-charts}, framework per Angular
  \end{itemize}
\end{frame}

\begin{frame}{Suggerimenti}
  La funzionalità dei suggerimenti per limitare il consumo energetico è basata su:
  \begin{itemize}
    \item una raccolta consigli con struttura fissa;
    \item visualizzazione del suggerimento qualora i dati statistici violino delle soglie (eventualmente parametrizzabili).
  \end{itemize}

  Alcune proposte esempi di suggerimenti sono:
  \begin{itemize}
    \item Per risparmiare energia, spegni le luci negli impianti esposti a sud dalle 12:00 alle 15:00;
    \item Mantieni una temperatura inferiore 19° dalle 22:00 alle 6:30, risparmi energia e migliora il sonno;
    \item La luce del soggiorno dell'impianto 2 rimane accesa anche senza nessuna presenza rilevata, spegnila per evitare consumi ulteriori.
  \end{itemize}

\end{frame}

\begin{frame}{Interfaccia Analytics (bozzetto grafico)}
  \centering
  \includegraphics[
    width=\textwidth,
    height=0.9\textheight,
    keepaspectratio
  ]{PreviewAnalytics.png}
\end{frame}


\begin{frame}{Gestione degli allarmi}

  \begin{itemize}
    \item \texttt{Threshold}, unità di controllo dei valori rilevati da un \textit{datapoint} (valore di scatto e operatore di confronto).
    \item\texttt{Alarm} è l'evento generato alla violazione della soglia;
  \end{itemize}

  \begin{figure}
    \centering
    \includegraphics[
      width=\textwidth,
      height=0.9\textheight,
      keepaspectratio
    ]{./AlarmsDiagram.drawio.png}
  \end{figure}

\end{frame}

\begin{frame}{Limiti o blocchi incontrati}
  Durante l'avanzamento del progetto i principali limiti incontrati sono stati:
  \begin{itemize}
    \item Pianificazione iniziale dei ruoli e delle ore per la definizione del costo complessivo;
    \item studio individuale delle tecnologie riguardanti il PoC;
    \item allineamento tra programmatori dopo lo scambio dei ruoli;
    \item tempo limitato a causa di esami o altri progetti universitari;
  \end{itemize}
\end{frame}

\begin{frame}{Attività future}
  Le attività future pianificate per i prossimi sprint sono:
  \begin{itemize}
    \item Approvazione della Requirements Baseline e Techonlogy Baseline;
    \item Analisi del PoC e individuazione componenti rimodellabili;
    \item Progettazione architetturale e di dettaglio dei componenti.
  \end{itemize}
\end{frame}


\end{document}